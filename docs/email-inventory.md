| id | purpose | trigger(s) | call site(s) (file:line) | function(s) involved | template/renderer | subject example | payload shape (keys) | attachments? | provider path | env vars used |
| --- | --- | --- | --- | --- | --- | --- | --- | --- | --- | --- |
| password_reset_email | Password reset instructions | user requests password reset | src/components/auth/AuthForm.tsx:85<br>src/pages/AdminPanel.tsx:444<br>src/services/email.ts:66<br>src/services/email.ts:368<br>supabase/functions/send-password-reset/index.ts:4 | requestPasswordReset, sendPasswordResetEmail, renderBrandEmail | renderBrandEmail | Reset your password | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, VITE_SITE_URL |
| welcome_email | Welcome new user | user signup | src/hooks/useAuth.ts:112 | sendWelcomeEmail, renderBrandEmail | renderBrandEmail | Welcome to Hadirot | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL |
| account_deletion_email | Account deleted by admin | admin deletes user | src/pages/AdminPanel.tsx:468<br>supabase/functions/delete-user/index.ts:9 | delete-user edge, renderBrandEmail | renderBrandEmail | Your Hadirot account has been deleted | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL, SUPABASE_SERVICE_ROLE_KEY, SUPABASE_ANON_KEY |
| listing_featured_email | Listing featured status change | listing featured status changed | src/pages/Dashboard.tsx:99 | sendListingFeaturedEmail, renderBrandEmail | renderBrandEmail | Listing Featured | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL |
| listing_reactivated_email | Listing reactivated notification | listing reactivated | src/pages/Dashboard.tsx:162 | sendListingReactivationEmail, renderBrandEmail | renderBrandEmail | Listing Reactivated | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL |
| listing_deactivated_email | Listing deactivated notification | listing deactivated | src/pages/Dashboard.tsx:209 | sendListingDeactivationEmail, renderBrandEmail | renderBrandEmail | Listing Deactivated | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL |
| listing_deleted_email | Listing deleted notice | listing deleted | src/pages/Dashboard.tsx:252 | sendListingDeletedEmail, renderBrandEmail | renderBrandEmail | Listing Deleted | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL |
| listing_updated_email | Listing updated notification | listing updated | src/pages/EditListing.tsx:405 | sendListingUpdatedEmail, renderBrandEmail | renderBrandEmail | Listing Updated | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL |
| listing_submission_email | Listing submission confirmation | user posts listing | src/pages/PostListing.tsx:416 | sendEmail, renderBrandEmail | renderBrandEmail | Listing Submitted | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL |
| permission_changed_email | Account permissions updated | permissions updated | src/pages/admin/FeaturedSettingsAdmin.tsx:138<br>src/pages/admin/FeaturedSettingsAdmin.tsx:215 | sendPermissionChangedEmail, renderBrandEmail | renderBrandEmail | Account Permissions Updated | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL |
| listing_approved_email | Listing approval notification | listing approved by admin | src/services/listings.ts:295 | sendListingApprovalEmail, renderBrandEmail | renderBrandEmail | Listing Approved | to, subject, html | false | edge->resend | RESEND_API_KEY, SUPABASE_URL |
